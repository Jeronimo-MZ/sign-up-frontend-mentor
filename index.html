<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  <link rel="stylesheet" href="./style.css">  
  <title>Frontend Mentor | Intro component with sign up form</title>
</head>
<body>
  <div class="container">
    <div class="left">
      <h1>Learn to code by watching others</h1>
      <p> See how experienced developers solve problems in real-time. Watching scripted tutorials is great, but understanding how developers think is invaluable.</p>
    </div>
    <div class="right">
      <a class="try-button" href="#"> <strong>Try it free 7 days</strong> then $20/mo. thereafter</a>
      <div class="form-container">
        <form action="">
          <div class="input-group">
            <span>
              <input name="First Name" type="text" placeholder="First Name">
              <label>!</label>
            </span>
            <p></p>
          </div>

          <div class="input-group">
            <span>
              <input name="Last Name" type="text" placeholder="Last Name">
              <label>!</label>
            </span>
            <p></p>
          </div>
          
          <div class="input-group">
            <span>
              <input name="Email" type="email" placeholder="Email Address">
              <label>!</label>
            </span>
            <p></p>
          </div>
          
          <div class="input-group">
            <span>
              <input name="Password" type="password" placeholder="Password">
              <label>!</label>
            </span>
            <p></p>
          </div>

          <input id='btn-submit'type="submit" value="Claim your free trial">
        </form>
        <p>By clicking the button, you are agreeing to our <a href="#">Terms and Services</a></p>
      </div>
    </div>
  </div>
  
  <footer>
    <p class="attribution">
      Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
      Coded by <a href="https://github.com/Jeronimo-MZ" target="_blank">Jer√≥nimo Matavel Jr.</a>
    </p>
  </footer>
  <script>
    //  don't judge my js. it's a humble code
    function validateEmail(email) {
      const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
      return re.test(String(email).toLowerCase());
    }
    document.getElementById('btn-submit').addEventListener('click', (event) =>{
      event.preventDefault();
      document.querySelectorAll('form .input-group')
      .forEach( i => {
        let input = i.querySelector('input');
        let p = i.querySelector('p');

        if (input.value == ''){
          i.classList.add("empty")
          p.innerHTML = input.name + ' cannot be empty';
        } else {
          i.classList.remove('empty')
          p.innerHTML = ''
        }

        if (input.name=='Email') {
          if (!validateEmail(input.value)) {
            i.classList.add("empty")
            if (p.innerHTML === '') p.innerHTML = 'Looks like this is not an email'
          }
        }

        if (input.name=='Password') {
          console.log(String(input.value).length)
          if (String(input.value).length < 8) {
            
            i.classList.add("empty")
           if (p.innerHTML === '') p.innerHTML = 'Password must have at least 8 chars';
          }
        }
      });
      console.log('cheguei')
    })
  </script>
</body>
</html>